<html
    window-resizable="true"
    window-width="600dip"
    window-height="400dip"
>
<head>
<title>sciter dialogs demo</title>
<style>

body {
    border-spacing: 1em;
}

plaintext#logger {
    height: *;
}

</style>
<script src="js/logger.js" />
<script type="module">

import {showDialog} from "src/dialog.js";

// set dialog buttons on click event
document.on("click", "button", function(event, element) {
    let value;

    switch (element.id) {
        case "info":
            value = showDialog("info", "Widget update successful.", "ok");
            break;

        case "error":
            value = showDialog("error", "Widget failed with error 18.", "ok help[https://duckduckgo.com]");
            break;

        case "warning":
            value = showDialog("warning", "Widget could not be updated. Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nemo ratione molestias optio dolorem blanditiis commodi maiores, libero expedita dolor quo, sequi ipsum iusto! Nostrum quas modi, saepe a aspernatur nemo.", "ok");
            break;

        case "question":
            value = showDialog("question", "Do you want to update widget?", "yes no cancel");
            break;

        case "callback":
            value = showDialog("info", "Widget update successful.", "ok", {"callback": dialogCallback });
            break;

        case "css":
            let options = {
                css: [
                    "src\\dialog.css",
                    "src\\dialog-win.css",
                    "css\\test.css"
                ]

                //css: "css\\test.css"
            };

            value = showDialog("info", "Widget update successful.", "ok", options);
            break;

        default:
            console.error("unknown element");
            break;
    }

    console.log("return value: " + value);
});

/**
 * Dialog callback
 * @param DOMElement root
 * @return void
 */
function dialogCallback(root)
{
    console.log("dialog callback reached");

    // get all dialog elements to translate
    root.$$("[data-i18n]").map(function(element) {
        element.innerHTML += " (i18n)";
    });
}

</script>
</head>
<body>
    <button #info>info</button>
    <button #error>error</button>
    <button #warning>warning</button>
    <button #question>question</button>
    <button #callback>callback</button>
    <button #css>custom css</button>
    <plaintext #logger />
</body>
</html>
